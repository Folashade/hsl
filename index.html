<!DOCTYPE html><html><head><meta charset="utf-8"><title>HSL â€“ The RGB Youâ€™ve Been Waiting For</title><link href="slides.css" rel="stylesheet" type="text/css"></head><body ng-app="hsl"><deck><slide><h1 id="hsl">HSL</h1>
<h2 id="the-rgb-you-ve-been-waiting-for">The RGB You&#39;ve Been Waiting For</h2>
</slide><notes><p>This is a talk put together for the February 2016 <a href="http://peninsulajs.com/">PeninsulaJS</a>
meetup. It should be digestable as a web page on its own and
interactive.</p>
<p>The source for these slides is available at
<a href="https://github.com/visnup/hsl">github.com/visnup/hsl</a>.</p>
</notes><slide class="xs-center"><h1 id="the-problem">The Problem</h1>
<div ng-init="lhs=$root.RGB(&quot;ff&quot;,&quot;a5&quot;,&quot;00&quot;); rhs=$root.RGB(&quot;33&quot;,&quot;33&quot;,&quot;33&quot;)"><span ng-style="{backgroundColor: lhs}" class="swatch"></span><input ng-model="lhs.r" placeholder="R" ng-style="{borderBottomColor: lhs.rx}" class="c"><input ng-model="lhs.g" placeholder="G" ng-style="{borderBottomColor: lhs.gx}" class="c"><input ng-model="lhs.b" placeholder="B" ng-style="{borderBottomColor: lhs.bx}" class="c"><div class="op text-muted">+</div><span ng-style="{backgroundColor: rhs}" class="swatch"></span><input ng-model="rhs.r" placeholder="R" ng-style="{borderBottomColor: rhs.rx}" class="c"><input ng-model="rhs.g" placeholder="G" ng-style="{borderBottomColor: rhs.gx}" class="c"><input ng-model="rhs.b" placeholder="B" ng-style="{borderBottomColor: rhs.bx}" class="c"><div class="op text-muted">=</div><span ng-show="false">{{sum = lhs.plus(rhs)}}</span><span ng-style="{backgroundColor: sum}" class="swatch"></span><input ng-model="sum.r" placeholder="R" ng-style="{borderBottomColor: sum.rx}" readonly class="c"><input ng-model="sum.g" placeholder="G" ng-style="{borderBottomColor: sum.gx}" readonly class="c"><input ng-model="sum.b" placeholder="B" ng-style="{borderBottomColor: sum.bx}" readonly class="c"></div></slide><notes><h2 id="rgb-rgb-">RGB + RGB = ðŸ¤”</h2>
<p><code>#ffa500</code>â€Š--â€Šthat&#39;s orange. <code>#ffd833</code>â€Š--â€Šthat&#39;s not a lighter orange;
it&#39;s yellow. <em>Of course</em>, you&#39;re thinking, <em>one does not simply add
some GB to RGB to lighten a color</em>.</p>
<p>Ok fine, then how do you lighten orange to get light orange? And wait,
hold on: why canâ€™t I just add Rs, Gs, and Bs to lighten my colors? I
mean, my computer knows <code>1 + 1 = 2</code>; it and I can agree on that. Yet
<code>#ffa500</code> + <code>#004999</code> yields some kinda related color, but in a way
that doesnâ€™t exactly make sense.</p>
<p>In what world is that cool? I&#39;ll tell you in what world: in an
adding-colors-of-light-together world. You know who lives in that
world?  LEDs and CRTs, thatâ€™s who. And scientists who play with lasers,
AKA crazy people.</p>
</notes><slide><h1 id="rgb-adding-lasers-together">RGB: adding lasers together</h1>
<div ng-init="rgb=$root.RGB(&quot;ff&quot;,&quot;a5&quot;,&quot;00&quot;)"><span ng-style="{backgroundColor: rgb}" class="swatch"></span><input ng-model="rgb.r" placeholder="R" ng-style="{borderBottomColor: rgb.rx}" class="c"><input ng-model="rgb.g" placeholder="G" ng-style="{borderBottomColor: rgb.gx}" class="c"><input ng-model="rgb.b" placeholder="B" ng-style="{borderBottomColor: rgb.bx}" class="c"></div></slide><notes><ul>
<li>Demo: RGB values next to each other and the color they make (zoom
in and out)</li>
</ul>
<p>RGB is <em>not</em> like some single origin, shade-grown, 1,300 meter
elevation coffee beans you found in Alajuela, Costa Rica and roasted in
small batches to give to your friends in Oakland.</p>
<p>RGB <em>is</em> like that guy in a North Face jacket and hoodie on the 38L
Geary headed downtown, doing a line of cocaine off his iPhone. Yeah,
RGB is not a | so-uncool-itâ€™s-cool-again thing.</p>
</notes><slide><p><img src="https://pbs.twimg.com/media/Ay25GrnCMAEgjyW.jpg" style="height: 50vh" /></p>
<p>Some guy doing lines of cocaine off his iphone on muni...<br>-- Nolan Evans (@nolman) <a href="https://twitter.com/nolman/status/229042680498368513">July 28, 2012</a></p>
</slide><slide><h1 id="let-s-make-our-own-color-space">Let&#39;s make our own color space</h1>
</slide><notes><ul>
<li>&quot;Color space&quot; = a system to specify a color and reason about sets of
colors</li>
<li>Analogy with Cartesian coordinates and reasoning about space<ul>
<li>Demo: RGB as XYZ</li>
<li>XYZ is an ok coordinate system, but starts failing if all you care
about is &quot;How far are you from the origin?&quot;</li>
</ul>
</li>
<li>Task: Design a system to quickly specify a color (intuitively)<ul>
<li>How would you do that intuitively to the person sitting next to you?</li>
<li>Ask an attendee to describe an arbitrary color in the room</li>
</ul>
</li>
</ul>
<p>Letâ€™s pretend we were tasked with representing all the colors in an
intuitive way. How would we start? How about, let&#39;s just take the
rainbow (ROY G. BIV!) and stick it in a kinda big array:</p>
</notes><slide><h2 id="color-swatch-hue">Color / Swatch / Hue</h2>
<div ng-init="buckets = 9" class="hue"><p>Letâ€™s divide the rainbow up into <input type="number" ng-model="buckets" placeholder="#" class="c"> colors:</p><div style="display: flex; justify-content: space-between" class="hues"><span ng-style="{backgroundColor: $root.HSL(c*360/buckets, 100, 50)}" ng-repeat="c in $root._.range(0, buckets)" class="swatch"></span></div><div style="display: flex; justify-content: space-between" class="indexes"><span ng-repeat="c in [0, 1, 2, 3]">{{c*buckets/3 | number}}</span></div></div></slide><notes><p>That&#39;s kinda intuitive-looking already. We&#39;ve got all of the colors our
eyes can see in an array indexed from 0 to 100. So, if I want red I
just grab the color at 0 and if I want magenta, I grab the one at 100.
20ish is yellow and 50ish is cyan; itâ€™s just a mapping and as we move
up and down the scale we get a predictable color from the rainbow.</p>
</notes><slide><h2 id="brightness-colorfulness-saturation">Brightness / Colorfulness / Saturation</h2>
<div ng-init="hsl = $root.HSL(300, 100, 50)" class="saturation"><p>Given a hue of <span ng-style="{backgroundColor: $root.HSL(hsl.h, 100, 50)}" class="swatch"></span><input ng-model="hsl.h" placeholder="H" ng-style="{borderBottomColor: $root.HSL(hsl.h, 100, 50)}" class="c">,</p><div style="display: flex; justify-content: space-between" class="hues"><span ng-style="{backgroundColor: $root.HSL(c, hsl.s, hsl.l)}" ng-repeat="c in $root._.range(0, 360)" ng-mouseenter="hsl.h = c" class="swatch"></span></div><div style="display: flex; justify-content: space-between" class="indexes"><span ng-repeat="c in [0, 1, 2, 3]">{{c*360/3 | number}}</span></div><p>letâ€™s remove <b>colorfulness</b> from it on a scale from 0 to 100:</p><div style="display: flex; justify-content: space-between" class="saturations"><span ng-style="{backgroundColor: $root.HSL(hsl.h, s, hsl.l)}" ng-repeat="s in $root._.range(0, 100)" ng-click="hsl.s = s" class="swatch"></span></div><div style="display: flex; justify-content: space-between" class="indexes"><span ng-repeat="c in [0, 1, 2]">{{c*100/2 | number}}</span></div></div></slide><slide><h2 id="lightness">Lightness</h2>
</slide><slide><h1 id="putting-it-all-together">Putting it all together</h1>
</slide><notes><ul>
<li>Gamut</li>
<li>Transform from RGB</li>
</ul>
</notes><slide><h1 id="let-s-do-some-stuff-with-hsl">Let&#39;s do some stuff with HSL</h1>
</slide><slide><h2 id="lighten-a-color">Lighten a color</h2>
</slide><notes><ul>
<li>This is the original problem at the beginning</li>
</ul>
</notes><slide><h2 id="grayscale-a-photo">Grayscale a photo</h2>
</slide><slide><h2 id="make-a-color-palette">Make a color palette</h2>
</slide><slide><h1 id="hsl-is-everywhere-already">HSL is everywhere already</h1>
</slide><notes><ul>
<li>Chrome dev tools</li>
<li>Color pickers<ul>
<li>OS X</li>
<li>Sketch</li>
<li>Google slides</li>
</ul>
</li>
<li>colorhexa.com</li>
</ul>
</notes><slide><h1 id="problems">Problems</h1>
</slide><notes><ul>
<li>LABCIE</li>
</ul>
</notes><script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.0/angular.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.5.0/lodash.min.js"></script><script>'use strict'

class RGB {
  constructor(r, g, b) {
    this.r = r
    this.g = g
    this.b = b
  }

  set r(r) { this._r = parseInt(r || 0, 16) }
  set g(g) { this._g = parseInt(g || 0, 16) }
  set b(b) { this._b = parseInt(b || 0, 16) }

  get r()  { return this._r.toString(16) }
  get g()  { return this._g.toString(16) }
  get b()  { return this._b.toString(16) }

  get rx() { return new RGB(this._r, 0, 0) }
  get gx() { return new RGB(0, this._g, 0) }
  get bx() { return new RGB(0, 0, this._b) }

  plus(other) {
    var r = _.clamp(this._r + other._r, 0, 255),
        g = _.clamp(this._g + other._g, 0, 255),
        b = _.clamp(this._b + other._b, 0, 255)
    return new RGB(r.toString(16), g.toString(16), b.toString(16))
  }

  toString() {
    return `rgb(${this._r},${this._g},${this._b})`
  }
}

class HSL {
  constructor(h, s, l) {
    this.h = h
    this.s = s
    this.l = l
  }

  toString() {
    return `hsl(${this.h},${this.s}%,${this.l}%)`
  }
}

angular
  .module('hsl', [])
  .component('deck', {
    controller($document) {
      this.slides = []
      
      this.add = function(slide) {
        slide.index(this.slides.length)
        this.slides.push(slide)
      }

      $document.on('keydown', function(e) {
        if (e.target.nodeName !== 'BODY') return
        var index = +location.hash.slice(1) || 0
        switch (e.keyIdentifier) {
          case 'Right':
            index++
            break
          case 'Left':
            index--
            break
        }
        location.hash = _.clamp(index, 0, this.slides.length)
      }.bind(this))
    }
  })
  .component('slide', {
    require: { deck: '^deck' },
    controller($scope, $element) {
      this.$onInit = function() {
        this.deck.add(this)
      }
      
      this.index = function(index) {
        $element.attr('id', index)
      }
    }
  })
  .run(function($rootScope) {
    $rootScope._ = _
    $rootScope.RGB = function(r, g, b) { return new RGB(r, g, b) }
    $rootScope.HSL = function(h, s, l) { return new HSL(h, s, l) }
  })</script></deck></body></html>